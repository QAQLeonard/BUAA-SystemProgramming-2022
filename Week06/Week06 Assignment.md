# Week06 Assignment

> 姓名：周星达
> 学号：21373339

## 1. 目录

文件和目录的作用有什么不同？

> 普通文件：存储普通数据，一般就是字符串。
> 目录文件：存储了一张表，该表就是该目录文件下，所有文件名和inode的映射关系。

> 对于普通文件来说，rwx的意义是：
> r：可以获得这个普通文件的名字和内容。
> w：可以修改这个文件的内容和文件名。可以删除该文件，但是用户会得到是否删除写保护文件的prompt。
> x：该文件是否具有被执行的权限。

> 对于目录文件来说，rwx的意义是：
> r-x：可以进入cd该目录，可以获得该目录下存储情况，但是不能修改这个目录内部存储的文件（目录）的名字，也不能在该目录下新建文件和目录
> -wx：可以进入cd该目录，但是看不到该目录下的存储情况（ls不可用），可以往该目录下添加、修改、删除文件。可以通过cat来读取该目录下的文件or目录的内容，由于得不到该目录下存储了那些文件，在不知情的情况下只能通过猜，cat + 文件名获得文件内容，所以这样依然不保密。
> --x：可以进入cd该目录，看不到存储情况，也不能往该目录下添加、修改、删除文件。但是依然可以通过cat + xx（猜）来获得该目录下的文件的内容。
> rw-：不能进入cd该目录，用ls仅仅可以获得文件名和目录名，因为获取不到这些文件的inode号，当然也不能获得该目录下的文件的内容。不能往该目录下添加、修改、删除文件。

## 2.  标准文件 I/O

简述标准文件 I/O 和系统调用 I/O 的各自优缺点是什么？

> 标准文件I/O的优点为：在系统调用I/O基础上封装了缓冲机制，先读写缓冲区，必要时再访问实际文件，减少了系统调用的次数。 系统调用I/O的优点为：在读写文件时，每次操作都会执行相关的系统调用，直接读写实际文件；系统调用I/O用用文件描述符表现一个打开的文件，可以访问不同类型的文件如普通文件、设备文件和管道文件等。 标准文件I/O的缺点为：用FILE（流）表示一个打开的文件，通常只用来访问普通文件。 系统调用I/O的缺点：频繁的系统调用会增加系统开销。

## 3.  硬链接与软链接

符号链接和硬链接的异同点是什么？

> 硬链接：新建的文件是已经存在的文件的一个别名，当原文件删除时，新建的文件仍然可以使用.
> 软链接：也称为符号链接，新建的文件以“路径”的形式来表示另一个文件，和Windows的快捷方式十分相似，新建的软链接可以指向不存在的文件

> 1.硬链接和原来的文件没有什么区别，而且共享一个 inode 号（文件在文件系统上的唯一标识）；而软链接不共享 inode，也可以说是个特殊的 inode，所以和原来的 inode 有区别。
> 2.若原文件删除了，则该软连接则不可以访问，而硬连接则是可以的。
> 3.由于符号链接的特性，导致其可以跨越磁盘分区，但硬链接不具备这个特性.

## 4. 权限

有一个目录，它的许可权限为rwxr--r--，请写出与其对应的二进制st_mode形式。

> 0100000111100001

目录文件的x权限代表什么？当用户不具有该权限时，会发生什么情况？

> x权限代表可执行权限；当用户不具有该权限时，则该用户无法通过cd命令进入到该目录中。

假设目前系统的 umask 为 0022，执行 `creat("a.txt", 765)`代码后，请写出文件 `a.txt`所有者、组用户及其他用户对该文件的权限。

> 所有者权限：rwx；组用户权限：r-x；其他用户权限：r-x。
